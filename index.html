<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <script src="timeago.js"></script>
  </head>
  <body>
    <h1 class='tweet'>Twits</h1>
    <div id='button'>
      <button id='refresh'>Refresh Twits</button>
    </div>
    <div id='tweetList'>
      <div id='tweets'></div>
    </div>
    <div id='userTweets'></div>
    <script>
      var $tweets
      var $tweetList
      var $userTweets

//this will be used to display tweets to a target html
      var diaplayTweet = function(tweet, target) { 
        var tweetBody = [
          '<div class="tweet">',
          '<h3 class="user"><strong>' + tweet.user + '</strong></h3>',
          '<span class="message">' + tweet.message + '</span>',
          '<p class="time">' + tweet.created_at + '</p>',
          '<div>'].join('');
        var $tweet = $(tweetBody);
        $tweet.data({user: tweet.user});
        target.append($tweet);
      };

//this gets new tweets from data generator and pases them to displayTweet
      var displayNew = function(numberOfTweets) {
        var tweet;
        for (var i = 0; i < numberOfTweets; i++) {
          tweet = streams.home.pop();
          if (tweet) {
            displayTweet(tweet, $tweets);
          }
        }
      };

      $(document).ready(function(){
        $tweet = $('#tweets');
        $tweetList = $('#tweetList');
        $userTweets = $('#userTweets');
        $userTweets.hide();
        displayNew(10);

        var index = streams.home.length - 1;
        // while(index >= 0){
        //   var tweet = streams.home[index];
        //   var $tweet = $('<div></div>');
        //   $tweet.text('@' + tweet.user + ': ' + tweet.message);
        //   $tweet.appendTo($body);
        //   index -= 1;
        // }

      });

    </script>
  </body>
</html>
